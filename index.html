<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Screeny's â€” Commission Builder</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>

<header class="header">
  <button id="backBtn" class="btn-back" aria-label="Back">âŸµ Back</button>
  <div class="header-title">
    <h1>Screeny's Commission Builder</h1>
    <div style="font-size: 18px; color: #888; margin-top: 2px; font-weight: 600;">VERSION 1</div>
    <div id="crumb" class="crumb"></div>
  </div>
</header>

<main id="app" class="container">

  <!-- Step: Subtype -->
  <section id="step-subtype" class="step">
    <div class="step-head">Step 1 â€” Pick a subtype</div>
    <div id="subtypeTitle" class="muted"></div>
    <div id="subtypesGrid" class="grid"></div>
  </section>

  <!-- Step: Details -->
  <section id="step-details" class="step" style="display:none">
    <div class="step-head">Step 2 â€” Details & Add-ons</div>
    <div class="panel">
      <div class="row">
        <div>
          <div class="muted">Selected</div>
          <div id="selectedLabel" class="strong"></div>
        </div>

        <div style="flex:1">
          <div class="muted">Pick a tier</div>
          <div id="tiersArea" class="radio-grid"></div>
        </div>

        <div style="min-width:200px;">
          <div class="muted">Currency</div>
          <select id="currencySelect" style="width:100%;font-size:14px;margin-top:8px;">
            <!-- Options will be populated by JavaScript -->
          </select>
        </div>
      </div>

      <div style="margin-top:12px">
        <div class="muted">Add-ons</div>
        <div id="addonsArea" style="margin-top:8px"></div>
      </div>

      <div class="total-line">
        <div class="muted">Subtotal (base + addons - ref discount)</div>
        <div id="liveSubtotal" class="amount">$0.00</div>
      </div>

      <div class="actions">
        <button id="nextToUpload" class="btn-primary">Next: Upload References</button>
        <button id="resetSelection" class="btn-ghost">Reset</button>
      </div>
    </div>
  </section>

  <!-- Step: Upload refs -->
  <section id="step-upload" class="step" style="display:none">
    <div class="step-head">Step 3 â€” Reference sheets (recommended)</div>

    <div class="panel" style="margin-bottom:12px">
      <div id="nameFieldLabel" class="strong" style="margin-bottom:8px">Name/Username/Social Handle</div>
      <input id="usernameInput" type="text" placeholder="Enter your name/username/handle" style="width:100%;padding:10px;border-radius:8px;background:var(--input-bg);border:1px solid var(--input-border);color:var(--input-text);font-size:14px;">
    </div>



    <div class="panel uploader">
      <div class="upload-row">
        <div>
          <div class="strong">Upload reference sheets</div>
          <div class="muted">Recommended but optional â€” each additional unique reference beyond the first gives -$2 (max -$4).</div>
        </div>
        <div>
          <input id="fileInput" type="file" accept="image/*,application/pdf" multiple style="display:none">
          <button id="addFilesBtn" class="btn-ghost">Add files</button>
        </div>
      </div>

      <div id="fileList" class="file-list"></div>

      <div class="ref-line">
        <div class="muted">Reference discount</div>
        <div id="refDiscount" class="amount">-$0.00</div>
      </div>

      <div class="actions">
        <button id="finishBtn" class="btn-primary">Finish & Summary</button>
        <button id="skipUpload" class="btn-ghost">Skip</button>
      </div>
    </div>
  </section>

  <!-- Step: Summary -->
  <section id="step-summary" class="step" style="display:none">
    <div class="step-head">Step 4 â€” Summary</div>
    <div class="panel" id="summaryPanel">
      <div id="summaryText"></div>

      <div class="total-line">
        <div class="muted">Estimated total</div>
        <div id="finalTotal" class="amount">$0.00</div>
      </div>

      <div class="actions" style="margin-top:12px">
        <button id="proceedToTos" class="btn-primary">Review Terms & Export PDF</button>
        <button id="copySummary" class="btn-ghost">Copy Summary</button>
      </div>

      <textarea id="summaryCopy" class="summary-textarea" readonly></textarea>
    </div>
  </section>

  <!-- Step: Terms of Service -->
  <section id="step-tos" class="step" style="display:none">
    <div class="step-head">Step 5 â€” Terms of Service</div>
    <div class="panel">
      <div class="strong" style="margin-bottom:12px">Please read and agree to our Terms of Service:</div>
      
      <div style="margin-bottom:20px;padding:20px;background:#2a2a2a;border:3px solid #000000;border-radius:8px;text-align:center;">
        <div style="margin-bottom:15px;font-size:16px;">
          ðŸ“‹ Please review our Terms of Service before proceeding
        </div>
        <a id="tosLink" href="#" target="_blank" style="display:inline-block;padding:12px 24px;background:var(--accent);color:#ffffff;text-decoration:none;border-radius:8px;font-weight:600;font-size:16px;">
          View Terms of Service
        </a>
      </div>

      <div style="margin-bottom:20px;padding:15px;background:#2a2a2a;border:3px solid #000000;border-radius:8px;">
        <label style="display:flex;align-items:center;gap:12px;cursor:pointer;">
          <input type="checkbox" id="tosCheckbox" style="width:20px;height:20px;cursor:pointer;">
          <span class="strong" style="color:#ff0000;">I have read and agree to the Terms of Service</span>
        </label>
      </div>

      <div class="actions">
        <button id="exportPdfBtn" class="btn-primary" disabled>Export PDF</button>
        <button id="backToSummary" class="btn-ghost">Back to Summary</button>
      </div>
    </div>
  </section>

</main>

<!-- spinner -->
<div id="pdfSpinner" class="spinner" aria-hidden="true">
  <div class="spinner-box">
    <div class="lds"></div>
    <div style="margin-top:8px">Generating PDFâ€¦</div>
  </div>
</div>

<footer class="footer">2025 || All Rights Reserved || Developed By Screeny</footer>

<!-- vendor libs (local) -->
<script src="vendor/html2canvas.min.js"></script>
<script src="vendor/jspdf.umd.min.js"></script>

<!-- app logic -->
<script src="app.js"></script>
</body>
</html>
